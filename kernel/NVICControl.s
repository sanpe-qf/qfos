		IMPORT NVIC0EN_bit	
		IMPORT NVIC1EN_bit
		
		EXPORT PENDSV_PRIOSET
		EXPORT Svc_PrioSet
		EXPORT NVIC0EN
		EXPORT NVIC1EN
			
		AREA |.text|, CODE
		PRESERVE8 
        THUMB
			
SETENA0			    EQU 	0xE000E100	
SETENA1 			EQU	    0xE000E104
	
NVIC_SVC_PRI   		EQU     0xE000ED1F
NVIC_SVC_INT 		EQU     0x00

NVIC_PENDSV_PRI   	EQU     0xE000ED22 
NVIC_PENDSV_INT 	EQU     0xFF

PENDSV_PRIOSET
	PUSH {R0,R1}
	
	LDR R0,=NVIC_PENDSV_PRI
	LDR R1,=NVIC_PENDSV_INT
	STRB R1,[R0]
	
	POP {R0,R1}
	BX  LR
Svc_PrioSet
	PUSH {R0,R1}
	
	LDR  R0,=NVIC_SVC_PRI
	LDR  R1,=NVIC_SVC_INT
	STRB R1,[R0]
	
	POP {R0,R1}
	BX  LR
NVIC0EN	
		PUSH {R1,R2}
		LDR R1,=NVIC0EN_bit
		
		LDR R2,=SETENA0
		STR R1,[R2]
		POP  {R1,R2}
		BX LR

NVIC1EN	
		PUSH {R1,R2}
		LDR R1,=NVIC1EN_bit
		
		LDR R2,=SETENA1
		STR R1,[R2]
		POP  {R1,R2}
		BX LR
		
		END
			